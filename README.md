# Music-Generation-
#### All of us very excited for what is the output so you can listen generated music.
[Listen Generated Music ](https://drive.google.com/drive/folders/1CqPQjhzOmZXry6-BiqVkLyLTvMvv_gUe)

### Requirements
1. python 3.x
2. In this Project we will use following packages 
   1. __Long Short-Term Memory (LSTM)__ 
   2. __Music21 Library__
   3. __keras__
   4. __tensorflow__
   5. __h5py__

download these packages using the pip


## Summary:
The data splits into two object types: Notes and Chords.
Note objects contain information about the pitch, octave, and offset of the Note.

We start by loading each file into a Music21 stream object using the converter.parse(file) function. Using that stream object we get a list of all the notes and chords in the file. We append the pitch of every note object using its string notation since the most significant parts of the note can be recreated using the string notation of the pitch. And we append every chord by encoding the id of every note in the chord together into a single string, with each note being separated by a dot. These encodings allows us to easily decode the output generated by the network into the correct notes and chords.
Now that we have put all the notes and chords into a sequential list we can create the sequences that will serve as the input of our network.

When converting from categorical to numerical data the data is converted to integer indexes representing where the category is positioned in the set of distinct values. E.g. apple is the first distinct value so it maps to 0, orange is the second so it maps to 1, pineapple is the third so it maps to 2, and so forth.
First, we will create a mapping function to map from string-based categorical data to integer-based numerical data. This is done because neural network perform much better with integer-based numerical data than string-based categorical data. An example of a categorical to numerical transformation can be seen in Figure 1.
Next, we have to create input sequences for the network and their respective outputs. The output for each input sequence will be the first note or chord that comes after the sequence of notes in the input sequence in our list of notes.


## Future work
We have achieved remarkable results and beautiful melodies by using a simple LSTM network and 359 classes. However, there are areas that can be improved.
First, the implementation we have at the moment does not support varying duration of notes and different offsets between notes. To achieve that we could add more classes for each different duration and add rest classes that represent the rest period between notes.
To achieve satisfying results with more classes added we would also have to increase the depth of the LSTM network, which would require a significantly more powerful computer. It took the laptop I use at home approximately twenty hours to train the network as it is now.
Second, add beginnings and endings to pieces. As the network is now there is no distinction between pieces, that is to say the network does not know where one piece ends and another one begins. This would allow the network to generate a piece from start to finish instead of ending the generated piece abruptly as it does now.
Third, add a method to handle unknown notes. As it is now the network would enter a fail state if it encounters a note that it does not know. A possible method to solve that issue would be to find the note or chord that is most similar to the unknown note.
Finally, adding more instruments to the dataset. As it is now, the network only supports pieces that only have a single instrument. It would be interesting to see if it could be expanded to support a whole orchestra.
